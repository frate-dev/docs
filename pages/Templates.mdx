# Templates 

Templates provide frate a way of providing generic CMake
files that can be used to generate a project.


## Templating Basics

```cmake
cmake_minimum_required(VERSION {{version}})

project(
    {{project_name}}
    VERSION {{project_version}}
    {{%if lang == "cpp"%}}LANGUAGES CXX
    {{%else if lang == "c"%}}LANGUAGES C
    {{%endif%}}
)
set(${SOURCE}
  ${CMAKE_CURRENT_SOURCE_DIR}/src/main.{{%if lang == "cpp"%}}cpp{{%else if lang == "c"%}}c{{%endif%}
)
add_executable({{project_name}} ${SOURCE})
```

It doesn't seem easier than just writing the CMake file, but
it allows library developers to provide a template that can
be easily used by the user. It will automatically fit in with
the rest of the project, and allows the user to be able to modify the template to their liking.
It also gives the user the powers of frate for automatic package management.

## Callbacks
```cmake
{{ toolchains("") }}

cmake_minimum_required( VERSION {{ cmake_version }} )
project(
  {{ project_name }}
  VERSION {{ project_version }}
  {%if lang == "cpp"%}LANGUAGES CXX
  {%else if lang == "c"%}LANGUAGES C
  {%endif%}
)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
set(CMAKE_CXX_STANDARD {{ lang_version }})
include(cmake/CPM.cmake)

{{ sccache("") }}
{{ ccache("") }}


{{ packages("") }}

file(GLOB_RECURSE SOURCES RELATIVE ${CMAKE_SOURCE_DIR}
  "src/**.cpp"
  "src/**.c"
  "src/**/**.cpp"
  "src/**/**.c"
)

message("Sources: ${SOURCES}")

{{ flags("") }}

include_directories($CMAKE_SOURCE_DIR/{{ include_dir }})
set(HEADER_DIR $CMAKE_SOURCE_DIR/{{ include_dir }})

if(NOT DEFINED RELEASE)
  set(RELEASE 0)
endif()

add_executable({{project_name}} ${SOURCES})

{{ compile_modes("") }}

set(BUILD_DIR {{ build_dir }})
set_target_properties({{project_name}} PROPERTIES RUNTIME_OUTPUT_DIRECTORY {{build_dir}})


{{  targets("")  }}
install(TARGETS {{project_name}} DESTINATION bin)

```

