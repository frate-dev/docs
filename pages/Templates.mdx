# Templates 

Templates provide frate a way of providing generic CMake
files that can be used to generate a project.


## Templating Basics

```cmake
cmake_minimum_required(VERSION {{version}})

project(
    {{project_name}}
    VERSION {{project_version}}
    {{%if lang == "cpp"%}}LANGUAGES CXX
    {{%else if lang == "c"%}}LANGUAGES C
    {{%endif%}}
)
set(${SOURCE}
  ${CMAKE_CURRENT_SOURCE_DIR}/src/main.{{%if lang == "cpp"%}}cpp{{%else if lang == "c"%}}c{{%endif%}
)
add_executable({{project_name}} ${SOURCE})
```

It doesn't seem easier than just writing the CMake file, but
it allows library developers to provide a template that can
be easily used by the user. It will automatically fit in with
the rest of the project, and allows the user to be able to modify the template to their liking.
It also gives the user the powers of frate for automatic package management.

## Callbacks
```cmake
{{ toolchains("") }}

cmake_minimum_required( VERSION {{ cmake_version }} )
project(
  {{ project_name }}
  VERSION {{ project_version }}
  {%if lang == "cpp"%}LANGUAGES CXX
  {%else if lang == "c"%}LANGUAGES C
  {%endif%}
)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
set(CMAKE_CXX_STANDARD {{ lang_version }})
include(cmake/CPM.cmake)

{{ sccache("") }}
{{ ccache("") }}


{{ packages("") }}

file(GLOB_RECURSE SOURCES RELATIVE ${CMAKE_SOURCE_DIR}
  "src/**.cpp"
  "src/**.c"
  "src/**/**.cpp"
  "src/**/**.c"
)

message("Sources: ${SOURCES}")

{{ flags("") }}

include_directories($CMAKE_SOURCE_DIR/{{ include_dir }})
set(HEADER_DIR $CMAKE_SOURCE_DIR/{{ include_dir }})

if(NOT DEFINED RELEASE)
  set(RELEASE 0)
endif()

add_executable({{project_name}} ${SOURCES})

{{ compile_modes("") }}

set(BUILD_DIR {{ build_dir }})
set_target_properties({{project_name}} PROPERTIES RUNTIME_OUTPUT_DIRECTORY {{build_dir}})


{{  targets("")  }}
install(TARGETS {{project_name}} DESTINATION bin)

```



## Lua API

Along with these templates we allow you can fully modify the render functions i.e. `packages("")` or `flags("")` along with this you can also create your own lua callbacks along with a couple helper functions which we provided

### Helper Functions

```lua
-- This function gets the current working directory of the project
-- @return string
function frate.get_path()

-- This function gets all the paths recursively in a directory provided
-- @param path string
-- @return table
function frate.get_paths_recurse(path)

-- This function gets json data from a url and returns a table
-- @param url string
-- @return table
function frate.fetch_json(url)

-- This function gets text data from a url and returns a string
-- @param url string
-- @return string
function frate.fetch_text(url)

-- This function prints a table with auto intentation
-- *This will not work on objects like the global project table currently*
-- @param table table
function frate.print_table(table)
-- @example
print_table({a = 1, b = 2, c = {d = 3, e = 4}})
-- a : 1
-- b : 2
-- c :
--   d : 3
--   e : 4

-- This function replaces keys in a string with values from a table
-- *Also once again this will not work on objects like the global project table currently, each table must be created in that instance*
-- @param string string
-- @param table table
-- @return string
function frate.format(string, table)
-- @example
format("Hello, my name is {%name%}", {name = "John"})
-- Hello, my name is John

-- This function gets the current build operating system string
-- @returns string of either(windows32, windows64, linux, macos, or unknown)
function frate.get_os()

```

